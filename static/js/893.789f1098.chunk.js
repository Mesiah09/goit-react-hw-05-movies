"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[893],{4633:function(e,t,n){n.d(t,{Z:function(){return o}});var a=n(501),r=n(6871),u="movies-item_item__gp9+T",i=n(184);function c(e){var t=e.data,n=(0,r.TH)();return(0,i.jsx)("li",{className:u,children:(0,i.jsx)(a.rU,{state:{from:n},to:"/movies/".concat(t.id),children:t.title})})}var s={};function o(e){var t=e.data;return(0,i.jsx)("ul",{className:s.list,children:t.map((function(e){return(0,i.jsx)(c,{data:e},e.id)}))})}o.defaultProps={data:[]}},2893:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var a=n(8683),r=n(5861),u=n(885),i=n(7757),c=n.n(i),s=n(2791),o=n(501),l=n(4633),f="searchbar_form__I3ics",d="searchbar_input__HpKTm",m="searchbar_button__vtxnC",p=n(184);function v(e){var t=e.onSubmit,n=(0,s.useState)(""),a=(0,u.Z)(n,2),r=a[0],i=a[1],c=function(e){e.preventDefault(),t(r)};return(0,p.jsxs)("form",{className:f,action:"",onSubmit:c,children:[(0,p.jsx)("input",{className:d,value:r,name:"query",onChange:function(e){var t=e.target;i(t.value)},type:"text"}),(0,p.jsx)("button",{className:m,type:"button",onClick:c,children:"Search"})]})}var h=n(4569),g=n.n(h);function _(){var e,t=(0,s.useState)({items:[],loading:!1,error:null}),n=(0,u.Z)(t,2),i=n[0],f=n[1],d=(0,o.lr)(),m=(0,u.Z)(d,2),h=m[0],_=m[1],x=h.get("query");(0,s.useEffect)((function(){var e=function(){var e=(0,r.Z)(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!0})})),e.prev=1,e.next=4,g().get("https://api.themoviedb.org/3/search/movie?api_key=551128ca2d4756d2fb16af330a08b773&language=en-US&query=".concat(x,"&page=1&include_adult=false"));case 4:t=e.sent,n=t.data,f((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!1,items:n.results})})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),f((function(t){return(0,a.Z)((0,a.Z)({},t),{},{loading:!1,error:e.t0.message})}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();x&&e()}),[x]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(v,{onSubmit:function(e){_({query:e})}}),i.loading&&(0,p.jsx)("p",{children:"...loading"}),(null===(e=i.items)||void 0===e?void 0:e.length)>0&&(0,p.jsx)(l.Z,{data:i.items})]})}}}]);
//# sourceMappingURL=893.789f1098.chunk.js.map