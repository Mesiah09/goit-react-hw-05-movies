{"version":3,"file":"static/js/893.789f1098.chunk.js","mappings":"8LACA,EAAuB,0B,SCCR,SAASA,EAAT,GAA+B,IAATC,EAAQ,EAARA,KAC7BC,GAAWC,EAAAA,EAAAA,MACjB,OACE,eAAIC,UAAWC,EAAf,UACE,SAAC,KAAD,CAAMC,MAAO,CAAEC,KAAML,GAAYM,GAAE,kBAAaP,EAAKQ,IAArD,SACGR,EAAKS,UCNd,SCEe,SAASC,EAAT,GAA2B,IAATV,EAAQ,EAARA,KAC/B,OACE,eAAIG,UAAWC,EAAAA,KAAf,SACGJ,EAAKW,KAAI,SAAAC,GAAC,OACT,SAACb,EAAD,CAAYC,KAAMY,GAAQA,EAAEJ,SAKpCE,EAAOG,aAAe,CACpBb,KAAM,K,mJCZR,EAAuB,wBAAvB,EAAuD,yBAAvD,EAAyF,0B,SCG1E,SAASc,EAAT,GAAkC,IAAbC,EAAY,EAAZA,SAClC,GAAkBC,EAAAA,EAAAA,UAAS,IAA3B,eAAOC,EAAP,KAAUC,EAAV,KAMMC,EAAe,SAAAP,GACnBA,EAAEQ,iBACFL,EAASE,IAGX,OACE,kBAAMd,UAAWC,EAAQiB,OAAO,GAAGN,SAAUI,EAA7C,WACE,kBACEhB,UAAWC,EACXkB,MAAOL,EACPM,KAAK,QACLC,SAfe,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACtBP,EAAKO,EAAOH,QAeRI,KAAK,UAEP,mBAAQvB,UAAWC,EAAUsB,KAAK,SAASC,QAASR,EAApD,uB,uBCnBS,SAASS,IAAc,IAAD,EACnC,GAA4BZ,EAAAA,EAAAA,UAAS,CACnCa,MAAO,GACPC,SAAS,EACTC,MAAO,OAHT,eAAOC,EAAP,KAAeC,EAAf,KAKA,GAAsBC,EAAAA,EAAAA,MAAtB,eAAOC,EAAP,KAAYC,EAAZ,KACMC,EAAQF,EAAIG,IAAI,UACtBC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAW,mCAAG,6FAClBP,GAAU,SAAAQ,GAAS,yBAAUA,GAAV,IAAqBX,SAAS,OAD/B,kBAGOY,IAAAA,IAAA,kHACsFL,EADtF,gCAHP,gBAGRrC,EAHQ,EAGRA,KAGRiC,GAAU,SAAAQ,GAAS,yBACdA,GADc,IAEjBX,SAAS,EACTD,MAAO7B,EAAK2C,aATE,gDAYhBV,GAAU,SAAAQ,GAAS,yBACdA,GADc,IAEjBX,SAAS,EACTC,MAAO,KAAMa,aAfC,yDAAH,qDAmBbP,GACFG,MAED,CAACH,IAKJ,OACE,iCACE,SAACvB,EAAD,CAAWC,SALE,SAAAsB,GACfD,EAAO,CAAEC,MAAAA,OAKNL,EAAOF,UAAW,uCAClB,UAAAE,EAAOH,aAAP,eAAcgB,QAAS,IAAK,SAACnC,EAAA,EAAD,CAAQV,KAAMgC,EAAOH","sources":["webpack://react-homework-template/./src/modules/Movies/MoviesItem/movies-item.module.scss?3954","modules/Movies/MoviesItem/MoviesItem.jsx","modules/Movies/movies.module.scss","modules/Movies/Movies.jsx","webpack://react-homework-template/./src/modules/Searchbar/searchbar.module.scss?8918","modules/Searchbar/Searchbar.jsx","pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"item\":\"movies-item_item__gp9+T\"};","import { Link, useLocation } from 'react-router-dom';\nimport s from './movies-item.module.scss';\nexport default function MoviesItem({ data }) {\n  const location = useLocation();\n  return (\n    <li className={s.item}>\n      <Link state={{ from: location }} to={`/movies/${data.id}`}>\n        {data.title}\n      </Link>\n    </li>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {};","import MoviesItem from './MoviesItem';\nimport PropTypes from 'prop-types';\nimport s from './movies.module.scss';\nexport default function Movies({ data }) {\n  return (\n    <ul className={s.list}>\n      {data.map(e => (\n        <MoviesItem data={e} key={e.id} />\n      ))}\n    </ul>\n  );\n}\nMovies.defaultProps = {\n  data: [],\n};\nMovies.propTypes = {\n  movie: PropTypes.arrayOf(\n    PropTypes.shape({\n      title: PropTypes.string.isRequired,\n      id: PropTypes.number.isRequired,\n    })\n  ),\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"searchbar_form__I3ics\",\"input\":\"searchbar_input__HpKTm\",\"button\":\"searchbar_button__vtxnC\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './searchbar.module.scss';\n\nexport default function Searchbar({ onSubmit }) {\n  const [q, setQ] = useState('');\n\n  const handleChange = ({ target }) => {\n    setQ(target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(q);\n  };\n\n  return (\n    <form className={s.form} action=\"\" onSubmit={handleSubmit}>\n      <input\n        className={s.input}\n        value={q}\n        name=\"query\"\n        onChange={handleChange}\n        type=\"text\"\n      />\n      <button className={s.button} type=\"button\" onClick={handleSubmit}>\n        Search\n      </button>\n    </form>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport Movies from 'modules/Movies';\nimport Searchbar from 'modules/Searchbar';\nimport axios from 'axios';\n\nexport default function MoviesPage() {\n  const [movies, setMovies] = useState({\n    items: [],\n    loading: false,\n    error: null,\n  });\n  const [key, setKey] = useSearchParams();\n  const query = key.get('query');\n  useEffect(() => {\n    const fetchMovies = async () => {\n      setMovies(prevState => ({ ...prevState, loading: true }));\n      try {\n        const { data } = await axios.get(\n          `https://api.themoviedb.org/3/search/movie?api_key=551128ca2d4756d2fb16af330a08b773&language=en-US&query=${query}&page=1&include_adult=false`\n        );\n        setMovies(prevState => ({\n          ...prevState,\n          loading: false,\n          items: data.results,\n        }));\n      } catch (error) {\n        setMovies(prevState => ({\n          ...prevState,\n          loading: false,\n          error: error.message,\n        }));\n      }\n    };\n    if (query) {\n      fetchMovies();\n    }\n  }, [query]);\n\n  const onSubmit = query => {\n    setKey({ query });\n  };\n  return (\n    <>\n      <Searchbar onSubmit={onSubmit} />\n      {movies.loading && <p>...loading</p>}\n      {movies.items?.length > 0 && <Movies data={movies.items} />}\n    </>\n  );\n}\n"],"names":["MoviesItem","data","location","useLocation","className","s","state","from","to","id","title","Movies","map","e","defaultProps","Searchbar","onSubmit","useState","q","setQ","handleSubmit","preventDefault","action","value","name","onChange","target","type","onClick","MoviesPage","items","loading","error","movies","setMovies","useSearchParams","key","setKey","query","get","useEffect","fetchMovies","prevState","axios","results","message","length"],"sourceRoot":""}